#!/usr/bin/env bash

cht_lenguages="$XDG_DATA_HOME/tmux-cht_lenguages"
cht_commands="$XDG_DATA_HOME/tmux-cht_commands"

selected=`cat $cht_lenguages $cht_commands |fzf`

read -p "Enter Query: " query

if grep -qs "$selected" "$cht_lenguages"; then
    query=`echo $query | tr ' ' '+'`
    tmux neww bash -c "curl -s 'cht.sh/$selected/$query' |less"
else
    tmux neww bash -c "curl -s 'cht.sh/$selected~$query' |less"
fi
