#!/bin/sh

wallpapers="$HOME/Documents/wallpapers"

options="$(fd . "$wallpapers" -x basename)"
bg_selection="$(echo "$options" |sort |fzf --reverse --height 40% --layout=reverse-list --border --prompt="Wallpaper: ")"

echo $bg_selection

if [ -z $bg_selection ]; then
  echo 'No selection'
  exit 1
fi

bg_path="$wallpapers/$bg_selection"

osascript -e "tell application \"Finder\" to set desktop picture to POSIX file \"$bg_path\""
